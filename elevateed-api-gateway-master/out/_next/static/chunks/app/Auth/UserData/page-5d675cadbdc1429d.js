(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[942],{764:function(e,a,t){Promise.resolve().then(t.bind(t,2541))},3337:function(e,a){"use strict";let t="http://44.220.219.210:8000/";a.Z={root:t,signUp:"".concat(t,"api/auth/register/"),signIn:"".concat(t,"api/auth/login/"),otpVerification:"".concat(t,"api/auth/verify-email/"),forgotPassword:"".concat(t,"api/auth/forgot-password/"),verifyOtp:"".concat(t,"api/auth/forgot-password/"),resetPassword:"".concat(t,"api/auth/reset-password/"),userData:"".concat(t,"/api/user-profile/profile/"),userProfile:"".concat(t,"/api/user-profile/profile/"),workoutActivity:"".concat(t,"/api/workout/activities/"),workoutLog:"".concat(t,"/api/workout/log-workout/"),workoutData:"".concat(t,"/api/workout/workout-history/"),updateWork:"".concat(t,"/api/workout/"),deleteWork:"".concat(t,"/api/workout/"),foodDetail:"".concat(t,"/api/meals/foods/"),addMeal:"".concat(t,"/api/meals/add/"),mealHistory:"".concat(t,"/api/meals/history/"),updateMeal:"".concat(t,"/api/meals/"),deleteMeal:"".concat(t,"/api/meals/"),workoutChart:"".concat(t,"/api/workout/calories/summary/"),mealChart:"".concat(t,"/api/meals/nutrition/summary/"),caloriesChart:"".concat(t,"/api/calorie/daily-calorie-intake/"),weekReportWorkout:"".concat(t,"/api/workout/weekly-report/"),monthReportWorkout:"".concat(t,"/api/workout/monthly-report"),yearReportWorkout:"".concat(t,"/api/workout/yearly-report"),weekReportMeal:"".concat(t,"/api/meals/weekly-report"),monthReportMeal:"".concat(t,"/api/meals/monthly-report"),yearReportMeal:"".concat(t,"/api/meals/yearly-report"),dailyReport:"".concat(t,"/api/daily/daily-nutrition/"),waterIntake:"".concat(t,"/api/daily/water-intake/"),weeklyRecommendation:"".concat(t,"/api/user-profile/recommendations/")}},4905:function(e,a,t){"use strict";var r=t(8472),l=t(2265);a.Z=()=>{let[e,a]=(0,l.useState)(!1);return{loading:e,callApi:async(e,t,l,o)=>{a(!0);try{let a=await (0,r.Z)({method:e,url:t,data:l,...o});return{data:a.data,response:a}}finally{a(!1)}}}}},2541:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return y}});var r=t(7437),l=t(2265),o=t(1444),i=t(1570),n=t(8191),s=t(3337),c=t(4905),d=t(452);let u=[{value:"M",label:"Male"},{value:"F",label:"Female"},{value:"O",label:"Other"}],g=[{value:"SITTING",label:"Not Very Active"},{value:"STANDING",label:"Lightly Active"},{value:"ACTIVE",label:"Active"},{value:"VERY_ACTIVE",label:"Very Active"}],h=[{value:"MAINTAIN",label:"Maintain Weight"},{value:"GAIN",label:"Gain Weight"},{value:"LOSE",label:"Lose Weight"}],p=[{value:"VEGETARIAN",label:"Only Vegetarian"},{value:"NON_VEGETARIAN",label:"Only Non-Vegetarian"},{value:"BOTH",label:"Vegetarian & Non-Vegetarian Both"}],m=[{value:"TWO_MEALS",label:"2 Meals per day"},{value:"THREE_MEALS",label:"3 Meals per day"},{value:"FOUR_MEALS",label:"4 Meals per day"}],b=[{value:"YES",label:"Yes"},{value:"NO",label:"No"}];var y=()=>{let{loading:e,callApi:a}=(0,c.Z)(),t=(0,o.v9)(e=>e.auth.accessToken),[y,x]=(0,l.useState)({height:{feet:"",inches:""},weight:"",age:"",gender:"",activity_level:"",goal:"",weight_goal:"",diet_category:"",meal_frequency:"",bmi:"",bmr:"",diabetes:"",hypertension:""}),[f,v]=(0,l.useState)(!1),[w,N]=(0,l.useState)(!0),[j,k]=(0,l.useState)(!1),[_,E]=(0,l.useState)(null),C=(0,l.useRef)(!1),A=(e,a,t)=>{let r=(12*e+a)*.0254;return(t/(r*r)).toFixed(2)},I=(0,l.useCallback)(async()=>{try{let e=(0,n.w)(t),r=await a("get",s.Z.userData,null,{headers:e});if(r.data){let e=r.data.data;console.log("fetched data",r);let a=A(e.height.FEET,e.height.INCHES,e.weight),t=e.bmr,l={height:{feet:e.height.FEET,inches:e.height.INCHES.toString()},weight:e.weight.toString(),age:e.age.toString(),gender:e.gender,activity_level:e.activity_level,goal:e.goal,weight_goal:e.weight_goal.toString(),diet_category:e.diet_category,meal_frequency:e.meal_frequency,diabetes:e.diabetes,hypertension:e.hypertension,bmi:a,bmr:t};x(l),E(l),v(!0)}}catch(e){console.error("Error fetching user data:",e)}finally{N(!1)}},[t,a]);(0,l.useEffect)(()=>{C.current||(C.current=!0,I())},[I]);let S=e=>{let a;let{name:t,value:r}=e.target;x(a="feet"===t||"inches"===t?{...y,height:{...y.height,[t]:r}}:{...y,[t]:r}),_&&f&&k(a.height.feet!==_.height.feet||a.height.inches!==_.height.inches||a.weight!==_.weight||a.age!==_.age||a.gender!==_.gender||a.activity_level!==_.activity_level||a.goal!==_.goal||a.weight_goal!==_.weight_goal||a.diet_category!==_.diet_category||a.meal_frequency!==_.meal_frequency||a.diabetes!==_.diabetes||a.hypertension!==_.hypertension)},q=async r=>{if(r.preventDefault(),!e){if(!y.height.feet.trim()||!y.height.inches.trim()){(0,d.Z)({label:"Please enter both feet and inches for height.",type:"error"});return}if(isNaN(parseInt(y.height.feet,10))||isNaN(parseInt(y.height.inches,10))||isNaN(parseFloat(y.weight))||isNaN(parseInt(y.age,10))){(0,d.Z)({label:"Please enter valid numbers for height, weight, and age.",type:"error"});return}if(!y.weight_goal.trim()||isNaN(parseFloat(y.weight_goal))){(0,d.Z)({label:"Please enter a valid weight goal.",type:"error"});return}try{let e={height:{FEET:parseInt(y.height.feet,10),INCHES:parseInt(y.height.inches,10)},weight:parseFloat(y.weight),age:parseInt(y.age,10),gender:y.gender,activity_level:y.activity_level,goal:y.goal,weight_goal:parseFloat(y.weight_goal),diet_category:y.diet_category,diabetes:y.diabetes,hypertension:y.hypertension,meal_frequency:y.meal_frequency},r=(0,n.w)(t),l=await a("post",s.Z.userData,e,{headers:r}),o=l.data.data,i=A(o.height.FEET,o.height.INCHES,o.weight),c=o.bmr;x(e=>({...e,bmi:i,bmr:c})),console.log("API Response:",l.data),(0,d.Z)({label:"User data submitted successfully!",type:"success"}),v(!0),E({...y,bmi:i,bmr:c}),k(!1)}catch(a){var l,o;console.error("API Error:",a);let e=(null==a?void 0:null===(o=a.response)||void 0===o?void 0:null===(l=o.data)||void 0===l?void 0:l.error)||"An error occurred during submission.";(0,d.Z)({label:"Error: ".concat(e),type:"error"})}}},F=async r=>{if(r.preventDefault(),!e){if(isNaN(parseInt(y.height.feet,10))||isNaN(parseInt(y.height.inches,10))||isNaN(parseFloat(y.weight))||isNaN(parseInt(y.age,10))){(0,d.Z)({label:"Please enter valid numbers for height, weight, and age.",type:"error"});return}if(!y.weight_goal.trim()||isNaN(parseFloat(y.weight_goal))){(0,d.Z)({label:"Please enter a valid weight goal.",type:"error"});return}try{let e={height:{FEET:parseInt(y.height.feet,10),INCHES:parseInt(y.height.inches,10)},weight:parseFloat(y.weight),age:parseInt(y.age,10),gender:y.gender,activity_level:y.activity_level,goal:y.goal,weight_goal:parseFloat(y.weight_goal),diet_category:y.diet_category,meal_frequency:y.meal_frequency,hypertension:y.hypertension,diabetes:y.diabetes},r=(0,n.w)(t),{response:l}=await a("put",s.Z.userData,e,{headers:r});console.log("Update API Response:",l.status),(0,d.Z)({label:"User data updated successfully!",type:"success"}),await I(),k(!1)}catch(a){var l;console.error("API Error:",a);let e=(null==a?void 0:null===(l=a.response)||void 0===l?void 0:l.error)||"An error occurred during update.";(0,d.Z)({label:"Error: ".concat(e),type:"error"})}}};return w?(0,r.jsx)(i.W,{className:"flex justify-center items-center h-screen",children:(0,r.jsx)("p",{className:"text-txcolor",children:"Loading user data..."})}):(0,r.jsx)(i.W,{className:"flex flex-wrap justify-center py-6",children:(0,r.jsxs)("div",{className:"w-full sm:w-[500px] md:w-[600px] lg:w-[700px] bg-white p-4 rounded-lg shadow-md mx-4 sm:mx-0",children:[(0,r.jsx)("h2",{className:"text-2xl sm:text-3xl font-semibold text-primary text-center mb-6",children:f?"Profile Details":"Enter Your Profile Details"}),(0,r.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Height (Feet)"}),(0,r.jsx)("input",{type:"number",name:"feet",value:y.height.feet,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Height (Inches)"}),(0,r.jsx)("input",{type:"number",name:"inches",value:y.height.inches,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Weight (kg)"}),(0,r.jsx)("input",{type:"number",name:"weight",value:y.weight,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Age"}),(0,r.jsx)("input",{type:"number",name:"age",value:y.age,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),f&&(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"BMI"}),(0,r.jsx)("input",{type:"text",name:"bmi",value:y.bmi,readOnly:!0,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"BMR"}),(0,r.jsx)("input",{type:"text",name:"bmr",value:y.bmr,readOnly:!0,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Gender"}),(0,r.jsxs)("select",{name:"gender",value:y.gender,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,r.jsx)("option",{value:"",children:"Select Gender"}),u.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Activity Level"}),(0,r.jsxs)("select",{name:"activity_level",value:y.activity_level,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,r.jsx)("option",{value:"",children:"Select Activity Level"}),g.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Goal"}),(0,r.jsxs)("select",{name:"goal",value:y.goal,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,r.jsx)("option",{value:"",children:"Select Goal"}),h.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Weight Goal (kg)"}),(0,r.jsx)("input",{type:"number",name:"weight_goal",value:y.weight_goal,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Diet Category"}),(0,r.jsxs)("select",{name:"diet_category",value:y.diet_category,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,r.jsx)("option",{value:"",children:"Select Diet Category"}),p.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Meal Frequency"}),(0,r.jsxs)("select",{name:"meal_frequency",value:y.meal_frequency,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,r.jsx)("option",{value:"",children:"Select Meal Frequency"}),m.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Diabetes"}),(0,r.jsxs)("select",{name:"diabetes",value:y.diabetes,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,r.jsx)("option",{value:"",children:"Select Value"}),b.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-txcolor",children:"Hypertension"}),(0,r.jsxs)("select",{name:"hypertension",value:y.hypertension,onChange:S,required:!0,disabled:e,className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md bg-background text-txcolor focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,r.jsx)("option",{value:"",children:"Select Value"}),b.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),!f&&(0,r.jsx)("button",{type:"submit",className:"w-full px-6 py-3 text-white bg-primary rounded-md focus:outline-none hover:bg-indigo-700 disabled:opacity-50",disabled:e,children:e?"Submitting...":"Submit"}),f&&j&&(0,r.jsx)("button",{type:"button",onClick:F,className:"w-full px-6 py-3 text-white bg-primary rounded-md focus:outline-none hover:bg-green-700 disabled:opacity-50",disabled:e,children:e?"Updating...":"Update"}),f&&!j&&(0,r.jsx)("div",{className:"text-center text-green-600 py-2",children:"Your profile is up to date. Modify any field to enable updates."})]})]})})}},1570:function(e,a,t){"use strict";t.d(a,{W:function(){return l}});var r=t(7437);function l(e){return(0,r.jsx)("div",{className:"container  p-8 mx-auto xl:px-0 ".concat(e.className?e.className:""),children:e.children})}t(2265)},8191:function(e,a,t){"use strict";t.d(a,{w:function(){return r}});let r=e=>{let a={"Content-Type":"application/json"};return e&&(a.Authorization="Bearer ".concat(e)),a}},452:function(e,a,t){"use strict";var r=t(4648);a.Z=e=>{let{label:a,type:t}=e,l={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,transition:r.sm,style:{success:{backgroundColor:"#4CAF50",color:"#fff"},error:{backgroundColor:"#F44336",color:"#fff"},warning:{backgroundColor:"#FF9800",color:"#fff"},info:{backgroundColor:"#2196F3",color:"#fff"}}[t]||{}};switch(t){case"success":r.Am.success(a,l);break;case"error":r.Am.error(a,l);break;case"warning":r.Am.warn(a,l);break;case"info":r.Am.info(a,l);break;default:(0,r.Am)(a,l)}}}},function(e){e.O(0,[71,444,971,23,744],function(){return e(e.s=764)}),_N_E=e.O()}]);